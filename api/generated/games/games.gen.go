// Package games provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.0 DO NOT EDIT.
package gengames

import (
	"fmt"
	"net/http"
	"time"

	"github.com/labstack/echo/v4"
	"github.com/oapi-codegen/runtime"
)

// Defines values for CurrentGameState.
const (
	Cancelled CurrentGameState = "cancelled"
	Finished  CurrentGameState = "finished"
	Started   CurrentGameState = "started"
)

// CurrentGame defines model for CurrentGame.
type CurrentGame struct {
	FinishDate *time.Time       `json:"finishDate,omitempty"`
	Name       Name             `json:"name"`
	State      CurrentGameState `json:"state"`

	// TimeSpent The duration notation as defined by ISO 8601
	TimeSpent Duration `json:"timeSpent"`
}

// CurrentGameState defines model for CurrentGame.State.
type CurrentGameState string

// CurrentGames defines model for CurrentGames.
type CurrentGames = []CurrentGame

// Duration The duration notation as defined by ISO 8601
type Duration = string

// Error defines model for Error.
type Error struct {
	Code    string `json:"code"`
	Message string `json:"message"`
}

// Login defines model for Login.
type Login = string

// Name defines model for Name.
type Name = string

// WishlistGame defines model for WishlistGame.
type WishlistGame struct {
	Name Name `json:"name"`
}

// WishlistGames defines model for WishlistGames.
type WishlistGames = []WishlistGame

// CurrentGameResponse defines model for CurrentGameResponse.
type CurrentGameResponse = CurrentGame

// CurrentGamesResponse defines model for CurrentGamesResponse.
type CurrentGamesResponse = CurrentGames

// ErrorResponse defines model for ErrorResponse.
type ErrorResponse = Error

// WishlistGamesResponse defines model for WishlistGamesResponse.
type WishlistGamesResponse = WishlistGames

// WishlistGameRequest defines model for WishlistGameRequest.
type WishlistGameRequest = WishlistGame

// AddOwnWishlistGameJSONRequestBody defines body for AddOwnWishlistGame for application/json ContentType.
type AddOwnWishlistGameJSONRequestBody = WishlistGame

// ServerInterface represents all server handlers.
type ServerInterface interface {

	// (GET /games/self/current)
	GetOwnCurrentGame(ctx echo.Context) error

	// (POST /games/self/current/cancel)
	CancelOwnCurrentGame(ctx echo.Context) error

	// (POST /games/self/current/finish)
	FinishOwnCurrentGame(ctx echo.Context) error

	// (POST /games/self/current/roll)
	RollNewCurrentGame(ctx echo.Context) error

	// (GET /games/self/history)
	GetOwnGameHistory(ctx echo.Context) error

	// (GET /games/self/wishlist)
	GetOwnWishlistGames(ctx echo.Context) error

	// (POST /games/self/wishlist)
	AddOwnWishlistGame(ctx echo.Context) error

	// (GET /games/{login}/current)
	GetCurrentGameByLogin(ctx echo.Context, login Login) error

	// (GET /games/{login}/history)
	GetGameHistoryByLogin(ctx echo.Context, login Login) error

	// (GET /games/{login}/wishlist)
	GetWishlistGamesByLogin(ctx echo.Context, login Login) error
}

// ServerInterfaceWrapper converts echo contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

// GetOwnCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) GetOwnCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetOwnCurrentGame(ctx)
	return err
}

// CancelOwnCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) CancelOwnCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.CancelOwnCurrentGame(ctx)
	return err
}

// FinishOwnCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) FinishOwnCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.FinishOwnCurrentGame(ctx)
	return err
}

// RollNewCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) RollNewCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.RollNewCurrentGame(ctx)
	return err
}

// GetOwnGameHistory converts echo context to params.
func (w *ServerInterfaceWrapper) GetOwnGameHistory(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetOwnGameHistory(ctx)
	return err
}

// GetOwnWishlistGames converts echo context to params.
func (w *ServerInterfaceWrapper) GetOwnWishlistGames(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetOwnWishlistGames(ctx)
	return err
}

// AddOwnWishlistGame converts echo context to params.
func (w *ServerInterfaceWrapper) AddOwnWishlistGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.AddOwnWishlistGame(ctx)
	return err
}

// GetCurrentGameByLogin converts echo context to params.
func (w *ServerInterfaceWrapper) GetCurrentGameByLogin(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "login" -------------
	var login Login

	err = runtime.BindStyledParameterWithOptions("simple", "login", ctx.Param("login"), &login, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter login: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetCurrentGameByLogin(ctx, login)
	return err
}

// GetGameHistoryByLogin converts echo context to params.
func (w *ServerInterfaceWrapper) GetGameHistoryByLogin(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "login" -------------
	var login Login

	err = runtime.BindStyledParameterWithOptions("simple", "login", ctx.Param("login"), &login, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter login: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetGameHistoryByLogin(ctx, login)
	return err
}

// GetWishlistGamesByLogin converts echo context to params.
func (w *ServerInterfaceWrapper) GetWishlistGamesByLogin(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "login" -------------
	var login Login

	err = runtime.BindStyledParameterWithOptions("simple", "login", ctx.Param("login"), &login, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter login: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetWishlistGamesByLogin(ctx, login)
	return err
}

// This is a simple interface which specifies echo.Route addition functions which
// are present on both echo.Echo and echo.Group, since we want to allow using
// either of them for path registration
type EchoRouter interface {
	CONNECT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	DELETE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	GET(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	HEAD(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	OPTIONS(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PATCH(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	POST(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PUT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	TRACE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
}

// RegisterHandlers adds each server route to the EchoRouter.
func RegisterHandlers(router EchoRouter, si ServerInterface) {
	RegisterHandlersWithBaseURL(router, si, "")
}

// Registers handlers, and prepends BaseURL to the paths, so that the paths
// can be served under a prefix.
func RegisterHandlersWithBaseURL(router EchoRouter, si ServerInterface, baseURL string) {

	wrapper := ServerInterfaceWrapper{
		Handler: si,
	}

	router.GET(baseURL+"/games/self/current", wrapper.GetOwnCurrentGame)
	router.POST(baseURL+"/games/self/current/cancel", wrapper.CancelOwnCurrentGame)
	router.POST(baseURL+"/games/self/current/finish", wrapper.FinishOwnCurrentGame)
	router.POST(baseURL+"/games/self/current/roll", wrapper.RollNewCurrentGame)
	router.GET(baseURL+"/games/self/history", wrapper.GetOwnGameHistory)
	router.GET(baseURL+"/games/self/wishlist", wrapper.GetOwnWishlistGames)
	router.POST(baseURL+"/games/self/wishlist", wrapper.AddOwnWishlistGame)
	router.GET(baseURL+"/games/:login/current", wrapper.GetCurrentGameByLogin)
	router.GET(baseURL+"/games/:login/history", wrapper.GetGameHistoryByLogin)
	router.GET(baseURL+"/games/:login/wishlist", wrapper.GetWishlistGamesByLogin)

}
