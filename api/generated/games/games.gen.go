// Package gengames provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package gengames

import (
	"fmt"
	"net/http"
	"time"

	"github.com/labstack/echo/v4"
	"github.com/oapi-codegen/runtime"
)

// Defines values for CurrentGameState.
const (
	Cancelled CurrentGameState = "cancelled"
	Finished  CurrentGameState = "finished"
	Started   CurrentGameState = "started"
)

// CurrentGame defines model for CurrentGame.
type CurrentGame struct {
	FinishDate *time.Time       `json:"finishDate,omitempty"`
	Name       Name             `json:"name"`
	State      CurrentGameState `json:"state"`

	// TimeSpent The duration notation as defined by ISO 8601
	TimeSpent Duration `json:"timeSpent"`
}

// CurrentGameState defines model for CurrentGame.State.
type CurrentGameState string

// CurrentGameByLogin defines model for CurrentGameByLogin.
type CurrentGameByLogin struct {
	CurrentGame CurrentGame `json:"currentGame"`
	Login       Login       `json:"login"`
}

// CurrentGameByLogins defines model for CurrentGameByLogins.
type CurrentGameByLogins = []CurrentGameByLogin

// CurrentGames defines model for CurrentGames.
type CurrentGames = []CurrentGame

// CurrentGamesByLogin defines model for CurrentGamesByLogin.
type CurrentGamesByLogin struct {
	CurrentGames CurrentGames `json:"currentGames"`
	Login        Login        `json:"login"`
}

// CurrentGamesByLogins defines model for CurrentGamesByLogins.
type CurrentGamesByLogins = []CurrentGamesByLogin

// Duration The duration notation as defined by ISO 8601
type Duration = string

// Error defines model for Error.
type Error struct {
	Code    string `json:"code"`
	Message string `json:"message"`
}

// Login defines model for Login.
type Login = string

// Name defines model for Name.
type Name = string

// WishlistGame defines model for WishlistGame.
type WishlistGame struct {
	Name Name `json:"name"`
}

// WishlistGames defines model for WishlistGames.
type WishlistGames = []WishlistGame

// WishlistGamesByLogin defines model for WishlistGamesByLogin.
type WishlistGamesByLogin struct {
	Login         Login         `json:"login"`
	WishlistGames WishlistGames `json:"wishlistGames"`
}

// WishlistGamesByLogins defines model for WishlistGamesByLogins.
type WishlistGamesByLogins = []WishlistGamesByLogin

// CurrentGameByLoginsResponse defines model for CurrentGameByLoginsResponse.
type CurrentGameByLoginsResponse = CurrentGameByLogins

// CurrentGameResponse defines model for CurrentGameResponse.
type CurrentGameResponse = CurrentGame

// CurrentGamesByLoginsResponse defines model for CurrentGamesByLoginsResponse.
type CurrentGamesByLoginsResponse = CurrentGamesByLogins

// CurrentGamesResponse defines model for CurrentGamesResponse.
type CurrentGamesResponse = CurrentGames

// ErrorResponse defines model for ErrorResponse.
type ErrorResponse = Error

// WishlistGamesByLoginsResponse defines model for WishlistGamesByLoginsResponse.
type WishlistGamesByLoginsResponse = WishlistGamesByLogins

// WishlistGamesResponse defines model for WishlistGamesResponse.
type WishlistGamesResponse = WishlistGames

// ServerInterface represents all server handlers.
type ServerInterface interface {

	// (GET /games/all/current)
	GetAllCurrentGame(ctx echo.Context) error

	// (GET /games/all/history)
	GetAllGameHistory(ctx echo.Context) error

	// (GET /games/all/wishlist)
	GetAllWishlistGames(ctx echo.Context) error

	// (POST /games/self/current/cancel)
	CancelOwnCurrentGame(ctx echo.Context) error

	// (POST /games/self/current/finish)
	FinishOwnCurrentGame(ctx echo.Context) error

	// (POST /games/self/current/roll)
	RollNewCurrentGame(ctx echo.Context) error

	// (GET /games/{login}/current)
	GetUserCurrentGame(ctx echo.Context, login Login) error

	// (GET /games/{login}/history)
	GetUserGameHistory(ctx echo.Context, login Login) error

	// (GET /games/{login}/wishlist)
	GetUserWishlistGames(ctx echo.Context, login Login) error
}

// ServerInterfaceWrapper converts echo contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

// GetAllCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) GetAllCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetAllCurrentGame(ctx)
	return err
}

// GetAllGameHistory converts echo context to params.
func (w *ServerInterfaceWrapper) GetAllGameHistory(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetAllGameHistory(ctx)
	return err
}

// GetAllWishlistGames converts echo context to params.
func (w *ServerInterfaceWrapper) GetAllWishlistGames(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetAllWishlistGames(ctx)
	return err
}

// CancelOwnCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) CancelOwnCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.CancelOwnCurrentGame(ctx)
	return err
}

// FinishOwnCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) FinishOwnCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.FinishOwnCurrentGame(ctx)
	return err
}

// RollNewCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) RollNewCurrentGame(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.RollNewCurrentGame(ctx)
	return err
}

// GetUserCurrentGame converts echo context to params.
func (w *ServerInterfaceWrapper) GetUserCurrentGame(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "login" -------------
	var login Login

	err = runtime.BindStyledParameterWithOptions("simple", "login", ctx.Param("login"), &login, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter login: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetUserCurrentGame(ctx, login)
	return err
}

// GetUserGameHistory converts echo context to params.
func (w *ServerInterfaceWrapper) GetUserGameHistory(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "login" -------------
	var login Login

	err = runtime.BindStyledParameterWithOptions("simple", "login", ctx.Param("login"), &login, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter login: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetUserGameHistory(ctx, login)
	return err
}

// GetUserWishlistGames converts echo context to params.
func (w *ServerInterfaceWrapper) GetUserWishlistGames(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "login" -------------
	var login Login

	err = runtime.BindStyledParameterWithOptions("simple", "login", ctx.Param("login"), &login, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter login: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetUserWishlistGames(ctx, login)
	return err
}

// This is a simple interface which specifies echo.Route addition functions which
// are present on both echo.Echo and echo.Group, since we want to allow using
// either of them for path registration
type EchoRouter interface {
	CONNECT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	DELETE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	GET(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	HEAD(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	OPTIONS(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PATCH(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	POST(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PUT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	TRACE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
}

// RegisterHandlers adds each server route to the EchoRouter.
func RegisterHandlers(router EchoRouter, si ServerInterface) {
	RegisterHandlersWithBaseURL(router, si, "")
}

// Registers handlers, and prepends BaseURL to the paths, so that the paths
// can be served under a prefix.
func RegisterHandlersWithBaseURL(router EchoRouter, si ServerInterface, baseURL string) {

	wrapper := ServerInterfaceWrapper{
		Handler: si,
	}

	router.GET(baseURL+"/games/all/current", wrapper.GetAllCurrentGame)
	router.GET(baseURL+"/games/all/history", wrapper.GetAllGameHistory)
	router.GET(baseURL+"/games/all/wishlist", wrapper.GetAllWishlistGames)
	router.POST(baseURL+"/games/self/current/cancel", wrapper.CancelOwnCurrentGame)
	router.POST(baseURL+"/games/self/current/finish", wrapper.FinishOwnCurrentGame)
	router.POST(baseURL+"/games/self/current/roll", wrapper.RollNewCurrentGame)
	router.GET(baseURL+"/games/:login/current", wrapper.GetUserCurrentGame)
	router.GET(baseURL+"/games/:login/history", wrapper.GetUserGameHistory)
	router.GET(baseURL+"/games/:login/wishlist", wrapper.GetUserWishlistGames)

}
